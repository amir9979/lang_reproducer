diff --git a/src/main/java/org/apache/commons/lang3/StringUtils.java b/src/main/java/org/apache/commons/lang3/StringUtils.java
index 793754775..a2402b18d 100644
--- a/src/main/java/org/apache/commons/lang3/StringUtils.java
+++ b/src/main/java/org/apache/commons/lang3/StringUtils.java
@@ -6363,7 +6363,9 @@ public class StringUtils {
          if (isEmpty(text) || isEmpty(searchString) || replacement == null || max == 0) {
              return text;
          }
+         String searchText = text;
          if (ignoreCase) {
+             searchText = text.toLowerCase();
              searchString = searchString.toLowerCase();
          }
          int start = 0;
